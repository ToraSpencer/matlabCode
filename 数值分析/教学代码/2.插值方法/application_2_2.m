% 股票预测问题 by 曲线拟合
%% 历史数据处理
clear;clc;
x = [2,3,4,5,8,9,10,11,12,15,16,17,18,19,22,23,24,25,26,29,30]; % 时间
y = [7.74,7.84,7.82,7.78,7.91, 7.97,7.9,7.76,7.9,8.04,8.06, 8.11,8.08,8.13,8.03,8.01,8.06,8.0,8.3,8.41,8.28];  % 当天收盘价

p=polyfit(x,y,3);  % 多项式拟合，返回次数为 3 的多项式 p(x) 的系数，该阶数是 y 中数据的最佳拟合（在最小二乘方式中）。p 中的系数按降幂排列，p 的长度为 n+1
plot(x,y,'*',x,polyval(p,x));

%% 开始预测
x1=[31,32,33];   % 待预测时间
xi=[x,x1];
y1=[8.27,8.17,9.54];  %  该股票后三个交易日的收盘价分别为8.27,8.17,9.54
plot(x,y,'*',xi,polyval(p,xi),x1,y1,'rp');
% 结论：预测结果仅供参考